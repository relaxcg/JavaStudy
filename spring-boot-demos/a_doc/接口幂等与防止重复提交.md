### 1. 幂等

> 一次请求和多次请求某一个资源，对于资源本身的应该具有同样的结果（网络超时等问题除外）

#### 1.1 接口幂等

+ select 查询操作一般来说具有天然的幂等性。
+ delete 删除操作，从数据的结果来看，删除一次和删除多次，是幂等的，但是从受影响的行数来看，需要保证幂等。
+ add 新增操作，用于添加资源，多次提交很可能产生副作用。
+ update 修改操作，如根据id修改数据，多次修改应该作用相同。

#### 1.2 常见的保证幂等的方式
##### 1.2.1 数据库层面
1. 悲观锁：for update。这种方式比较少用，很可能会造成阻塞。
2. 唯一ID/索引：使用分布式ID充当主键，或创建唯一索引。
3. 乐观锁：版本号。

##### 1.2.2 分布式锁 

